<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Snackbar ‚Äì Milka Shop</title>

<style>
:root{
  --bg:#f5f3ff;
  --text:#2b2b2b;
  --card:#ffffff;
  --milka:#7b2cbf;
  --milka-light:#c77dff;
}
body.dark{
  --bg:#120a1f;
  --text:#f1ecff;
  --card:#1f1633;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:Inter,Arial,sans-serif;
  background:var(--bg);
  color:var(--text);
  transition:.3s;
}

/* HEADER */
header{
  background:linear-gradient(135deg,var(--milka),var(--milka-light));
  color:white;
  padding:50px 20px;
  text-align:center;
  position:relative;
}
.toggle{
  position:absolute;
  right:20px;
  top:20px;
  font-size:1.4em;
  cursor:pointer;
}

/* SHOP */
main{
  max-width:1100px;
  margin:-40px auto 40px;
  padding:0 20px;
}
.products{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:25px;
}
.card{
  background:var(--card);
  border-radius:22px;
  padding:20px;
  box-shadow:0 20px 40px rgba(0,0,0,.2);
  display:flex;
  flex-direction:column;
  transition:.3s;
}
.card:hover{
  transform:translateY(-6px);
}
.card img{
  width:100%;
  height:190px;
  object-fit:contain;
}
.price{
  font-size:1.5em;
  font-weight:700;
}
button{
  background:linear-gradient(135deg,var(--milka),var(--milka-light));
  color:white;
  border:none;
  padding:14px;
  border-radius:16px;
  cursor:pointer;
  font-size:1em;
}

/* CART */
.cart{
  position:fixed;
  right:20px;
  bottom:20px;
  background:var(--card);
  width:320px;
  border-radius:20px;
  box-shadow:0 20px 40px rgba(0,0,0,.3);
  padding:20px;
}
.cart h3{margin-top:0}
.cart-item{
  display:flex;
  justify-content:space-between;
  margin-bottom:10px;
  font-size:.9em;
}
.cart-item button{
  padding:4px 8px;
  font-size:.8em;
}
.total{
  font-weight:bold;
  margin-top:10px;
}
.small{
  font-size:.85em;
  opacity:.8;
}
</style>
</head>

<body>

<header>
<h1>üç´ Snackbar</h1>
<p>Milka-Style S√º√üigkeiten Shop</p>
<div class="toggle" onclick="toggleDark()">üåô</div>
</header>

<main>
<section class="products">

<div class="card">
<img src="images/oreo300.jpg">
<h2>Oreo Milka 300g</h2>
<p>Extra gro√üe Tafel.</p>
<div class="price">4,00 ‚Ç¨</div>
<button onclick="addToCart('Oreo Milka 300g',4)">In den Warenkorb</button>
</div>

<div class="card">
<img src="images/oreo100.jpg">
<h2>Oreo Milka 100g</h2>
<p>Klassischer Snack.</p>
<div class="price">1,00 ‚Ç¨</div>
<button onclick="addToCart('Oreo Milka 100g',1)">In den Warenkorb</button>
</div>

<div class="card">
<img src="images/mentos.jpg">
<h2>Mentos Stange</h2>
<p>Frisch & lecker.</p>
<div class="price">0,50 ‚Ç¨</div>
<button onclick="addToCart('Mentos Stange',0.5)">In den Warenkorb</button>
</div>

</section>
</main>

<div class="cart">
<h3>üõí Warenkorb</h3>
<div id="cartItems"></div>
<div class="total">Gesamt: <span id="total">0.00</span> ‚Ç¨</div>
<p class="small">Ab 10 St√ºck ‚Üí 10 % Rabatt</p>
<button onclick="checkout()">Bestellen per E-Mail</button>
</div>

<script>
let cart=JSON.parse(localStorage.getItem("cart"))||{};
const MAX=100;

function toggleDark(){
 document.body.classList.toggle("dark");
 localStorage.setItem("dark",document.body.classList.contains("dark"));
}
if(localStorage.getItem("dark")==="true")document.body.classList.add("dark");

function addToCart(name,price){
 if(!cart[name]) cart[name]={qty:0,price};
 if(cart[name].qty<MAX) cart[name].qty++;
 save();
}

function save(){
 localStorage.setItem("cart",JSON.stringify(cart));
 render();
}

function render(){
 let html="",totalQty=0,total=0;
 for(let k in cart){
  const i=cart[k];
  totalQty+=i.qty;
  total+=i.qty*i.price;
  html+=`
   <div class="cart-item">
    ${k} (${i.qty})
    <span>
     <button onclick="change('${k}',-1)">‚àí</button>
     <button onclick="change('${k}',1)">+</button>
    </span>
   </div>`;
 }
 if(totalQty>=10) total*=0.9;
 document.getElementById("cartItems").innerHTML=html||"<p>Leer</p>";
 document.getElementById("total").innerText=total.toFixed(2);
}
function change(k,d){
 cart[k].qty+=d;
 if(cart[k].qty<=0) delete cart[k];
 save();
}

function checkout(){
 let text="Bestellung Snackbar:%0A";
 for(let k in cart){
  text+=`${k} x${cart[k].qty}%0A`;
 }
 text+=`Gesamtpreis: ${document.getElementById("total").innerText} ‚Ç¨`;
 location.href="mailto:DEINEEMAIL@gmail.com?subject=Bestellung Snackbar&body="+text;
}

render();
</script>

</body>
</html>
